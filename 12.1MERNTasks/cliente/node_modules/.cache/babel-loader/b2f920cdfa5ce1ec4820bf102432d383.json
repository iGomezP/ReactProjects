{"ast":null,"code":"import _defineProperty from\"/home/vakaz/Documentos/React/12MERNTasks/cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/vakaz/Documentos/React/12MERNTasks/cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/vakaz/Documentos/React/12MERNTasks/cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useContext,useEffect}from\"react\";import{Link}from\"react-router-dom\";import AlertaContext from\"../../context/alertas/AlertaContext\";import AuthContext from\"../../context/autenticacion/AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){// Extraer los valores de AlertaContext\nvar alertaContext=useContext(AlertaContext);var alerta=alertaContext.alerta,MostrarAlerta=alertaContext.MostrarAlerta;// Extraer los valores de AuthContext\nvar authContext=useContext(AuthContext);var mensaje=authContext.mensaje,autenticado=authContext.autenticado,IniciarSesion=authContext.IniciarSesion;// En caso de que el password o el usuario no exista\nuseEffect(function(){if(autenticado){props.history.push('/proyectos');}if(mensaje){MostrarAlerta(mensaje.msg,'alerta-error');}// eslint-disable-next-line\n},[mensaje,autenticado,props.history]);// State para iniciar sesión\nvar _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),usuario=_useState2[0],setUsuario=_useState2[1];// Extraer de usuario\nvar email=usuario.email,password=usuario.password;var onChange=function onChange(e){setUsuario(_objectSpread(_objectSpread({},usuario),{},_defineProperty({},e.target.name,e.target.value)));};// Cuando el usuario quiere iniciar sesión\nvar onSubmit=function onSubmit(e){e.preventDefault();// Validar que no haya campos vacíos\nif(email.trim()===''||password.trim()===''){MostrarAlerta('Todos los campos son obligatorios','alerta-error');return;}// Pasarlo al Action de Express\nIniciarSesion({email:email,password:password});};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-usuario\",children:[alerta?/*#__PURE__*/_jsx(\"div\",{className:\"alerta \".concat(alerta.categoria),children:alerta.msg}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"contenedor-form sombra-dark\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Iniciar Sesi\\xF3n\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Tu Email\",value:email,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Tu Password\",value:password,onChange:onChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"campo-form\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Iniciar Sesi\\xF3n\",className:\"btn btn-primario btn-block\"})})]}),/*#__PURE__*/_jsx(Link,{to:'/nueva-cuenta',className:\"enlace-cuenta\",children:\"Crear Nueva Cuenta\"})]})]});};export default Login;","map":{"version":3,"sources":["/home/vakaz/Documentos/React/12MERNTasks/cliente/src/components/auth/Login.jsx"],"names":["useState","useContext","useEffect","Link","AlertaContext","AuthContext","Login","props","alertaContext","alerta","MostrarAlerta","authContext","mensaje","autenticado","IniciarSesion","history","push","msg","email","password","usuario","setUsuario","onChange","e","target","name","value","onSubmit","preventDefault","trim","categoria"],"mappings":"sfAAA,OAASA,QAAT,CAAmBC,UAAnB,CAA+BC,SAA/B,KAAgD,OAAhD,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,aAAP,KAA0B,qCAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,yCAAxB,C,wFAGA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAEC,KAAF,CAAa,CAEzB;AACA,GAAMC,CAAAA,aAAa,CAAGP,UAAU,CAAEG,aAAF,CAAhC,CACA,GAAQK,CAAAA,MAAR,CAAkCD,aAAlC,CAAQC,MAAR,CAAgBC,aAAhB,CAAkCF,aAAlC,CAAgBE,aAAhB,CAEA;AACA,GAAMC,CAAAA,WAAW,CAAGV,UAAU,CAAEI,WAAF,CAA9B,CACA,GAAQO,CAAAA,OAAR,CAAgDD,WAAhD,CAAQC,OAAR,CAAiBC,WAAjB,CAAgDF,WAAhD,CAAiBE,WAAjB,CAA8BC,aAA9B,CAAgDH,WAAhD,CAA8BG,aAA9B,CAEA;AACAZ,SAAS,CAAE,UAAM,CAEf,GAAKW,WAAL,CAAmB,CACjBN,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAoB,YAApB,EACD,CAED,GAAKJ,OAAL,CAAe,CACbF,aAAa,CAAEE,OAAO,CAACK,GAAV,CAAe,cAAf,CAAb,CACD,CAGD;AACD,CAZQ,CAYN,CAAEL,OAAF,CAAWC,WAAX,CAAwBN,KAAK,CAACQ,OAA9B,CAZM,CAAT,CAcA;AACA,cAAgCf,QAAQ,CAAE,CACxCkB,KAAK,CAAE,EADiC,CAExCC,QAAQ,CAAE,EAF8B,CAAF,CAAxC,wCAAQC,OAAR,eAAiBC,UAAjB,eAKA;AACA,GAAQH,CAAAA,KAAR,CAA4BE,OAA5B,CAAQF,KAAR,CAAeC,QAAf,CAA4BC,OAA5B,CAAeD,QAAf,CAEA,GAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,CAAC,CAAI,CACpBF,UAAU,gCACLD,OADK,wBAENG,CAAC,CAACC,MAAF,CAASC,IAFH,CAEWF,CAAC,CAACC,MAAF,CAASE,KAFpB,GAAV,CAKD,CAND,CAQA;AACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAJ,CAAC,CAAI,CACpBA,CAAC,CAACK,cAAF,GAEA;AACA,GAAKV,KAAK,CAACW,IAAN,KAAiB,EAAjB,EACHV,QAAQ,CAACU,IAAT,KAAoB,EADtB,CAC2B,CACzBnB,aAAa,CAAE,mCAAF,CAAuC,cAAvC,CAAb,CACA,OACD,CAED;AACAI,aAAa,CAAE,CAAEI,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAAF,CAAb,CAED,CAbD,CAeA,mBACE,aAAK,SAAS,CAAC,cAAf,WAEIV,MAAM,cACJ,YAAK,SAAS,kBAAcA,MAAM,CAACqB,SAArB,CAAd,UACIrB,MAAM,CAACQ,GADX,EADI,CAKJ,IAPN,cASE,aAAK,SAAS,CAAC,6BAAf,wBACE,yCADF,cAGE,cACE,QAAQ,CAAGU,QADb,wBAGE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,OAAf,mBADF,cAEE,cACE,IAAI,CAAC,OADP,CAEE,EAAE,CAAC,OAFL,CAGE,IAAI,CAAC,OAHP,CAIE,WAAW,CAAC,UAJd,CAKE,KAAK,CAAGT,KALV,CAME,QAAQ,CAAGI,QANb,EAFF,GAHF,cAeE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,UAAf,sBADF,cAEE,cACE,IAAI,CAAC,UADP,CAEE,EAAE,CAAC,UAFL,CAGE,IAAI,CAAC,UAHP,CAIE,WAAW,CAAC,aAJd,CAKE,KAAK,CAAGH,QALV,CAME,QAAQ,CAAGG,QANb,EAFF,GAfF,cA2BE,YAAK,SAAS,CAAC,YAAf,uBACE,cACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,mBAFR,CAGE,SAAS,CAAC,4BAHZ,EADF,EA3BF,GAHF,cAwCE,KAAC,IAAD,EAAM,EAAE,CAAG,eAAX,CAA6B,SAAS,CAAC,eAAvC,gCAxCF,GATF,GADF,CAyDD,CAnHD,CAqHA,cAAehB,CAAAA,KAAf","sourcesContent":["import { useState, useContext, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AlertaContext from \"../../context/alertas/AlertaContext\";\r\nimport AuthContext from \"../../context/autenticacion/AuthContext\";\r\n\r\n\r\nconst Login = ( props ) => {\r\n\r\n  // Extraer los valores de AlertaContext\r\n  const alertaContext = useContext( AlertaContext );\r\n  const { alerta, MostrarAlerta } = alertaContext;\r\n\r\n  // Extraer los valores de AuthContext\r\n  const authContext = useContext( AuthContext );\r\n  const { mensaje, autenticado, IniciarSesion } = authContext;\r\n\r\n  // En caso de que el password o el usuario no exista\r\n  useEffect( () => {\r\n\r\n    if ( autenticado ) {\r\n      props.history.push( '/proyectos' );\r\n    }\r\n\r\n    if ( mensaje ) {\r\n      MostrarAlerta( mensaje.msg, 'alerta-error' );\r\n    }\r\n\r\n\r\n    // eslint-disable-next-line\r\n  }, [ mensaje, autenticado, props.history ] );\r\n\r\n  // State para iniciar sesión\r\n  const [ usuario, setUsuario ] = useState( {\r\n    email: '',\r\n    password: ''\r\n  } );\r\n\r\n  // Extraer de usuario\r\n  const { email, password } = usuario;\r\n\r\n  const onChange = e => {\r\n    setUsuario( {\r\n      ...usuario,\r\n      [ e.target.name ]: e.target.value\r\n    }\r\n    )\r\n  }\r\n\r\n  // Cuando el usuario quiere iniciar sesión\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    // Validar que no haya campos vacíos\r\n    if ( email.trim() === '' ||\r\n      password.trim() === '' ) {\r\n      MostrarAlerta( 'Todos los campos son obligatorios', 'alerta-error' );\r\n      return;\r\n    }\r\n\r\n    // Pasarlo al Action de Express\r\n    IniciarSesion( { email, password } );\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"form-usuario\">\r\n      {\r\n        alerta ?\r\n          <div className={ `alerta ${ alerta.categoria }` }>\r\n            { alerta.msg }\r\n          </div>\r\n          :\r\n          null\r\n      }\r\n      <div className=\"contenedor-form sombra-dark\">\r\n        <h1>Iniciar Sesión</h1>\r\n\r\n        <form\r\n          onSubmit={ onSubmit }\r\n        >\r\n          <div className=\"campo-form\">\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Tu Email\"\r\n              value={ email }\r\n              onChange={ onChange }\r\n            />\r\n          </div>\r\n\r\n          <div className=\"campo-form\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Tu Password\"\r\n              value={ password }\r\n              onChange={ onChange }\r\n            />\r\n          </div>\r\n\r\n          <div className=\"campo-form\">\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Iniciar Sesión\"\r\n              className=\"btn btn-primario btn-block\"\r\n            />\r\n          </div>\r\n\r\n        </form>\r\n\r\n        <Link to={ '/nueva-cuenta' } className=\"enlace-cuenta\">\r\n          Crear Nueva Cuenta\r\n        </Link>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}