{"ast":null,"code":"var _jsxFileName = \"/home/vakaz/Documentos/React/12MERNTasks/cliente/src/components/tareas/FormTarea.jsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useState } from \"react\";\nimport ProyectoContext from \"../../context/proyectos/ProyectoContext\";\nimport TareaContext from \"../../context/tareas/TareaContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FormTarea = () => {\n  _s();\n\n  // Extraer si un proyecto est치 activo\n  const proyectosContext = useContext(ProyectoContext);\n  const {\n    proyecto\n  } = proyectosContext; // Obtener la funcion del context de tarea\n\n  const tareasContext = useContext(TareaContext);\n  const {\n    errorTarea,\n    agregarTarea,\n    validarTarea\n  } = tareasContext; // State del formulario\n\n  const [tarea, setTarea] = useState({\n    nombre: ''\n  }); // Extraer el nombre del proyecto\n\n  const {\n    nombre\n  } = tarea; // Si no hay proyecto seleccionado\n\n  if (!proyecto) {\n    return null;\n  } // Array destructuring para extraer el proyecto actual\n\n\n  const [proyectoActual] = proyecto; // Leer los valores del formulario\n\n  const handleChange = e => {\n    setTarea({ ...tarea,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSubmit = e => {\n    e.preventDefault(); // Validar\n\n    if (nombre.trim() === '') {\n      validarTarea();\n      return;\n    } // Pasar la validaci칩n\n    // Agregar la tarea nueva al state de tareas, se iguala el id y se pasan las tareas en false\n\n\n    tarea.proyectoId = proyectoActual.id;\n    tarea.estado = false;\n    agregarTarea(tarea); // Reiniciar el Form\n  }; // Mostrar Error con timer\n\n\n  const mostrarError = () => {\n    /*#__PURE__*/\n    _jsxDEV(\"p\", {\n      className: \"mensaje error\",\n      children: \"El nombre de la tarea es obligatorio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }, this);\n\n    setTimeout(() => {\n      return null;\n    }, 3000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"formulario\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contenedor-input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"nombre\",\n          id: \"\",\n          className: \"input-text\",\n          placeholder: \"Nombre Tarea...\",\n          value: nombre,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contenedor-input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Agregar Tarea\",\n          className: \"btn btn-primario btn-submit btn-block\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), errorTarea ? mostrarError : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FormTarea, \"xBDOaYnDz0n5lueE+0rVnPFE4cc=\");\n\n_c = FormTarea;\nexport default FormTarea;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormTarea\");","map":{"version":3,"sources":["/home/vakaz/Documentos/React/12MERNTasks/cliente/src/components/tareas/FormTarea.jsx"],"names":["useContext","useState","ProyectoContext","TareaContext","FormTarea","proyectosContext","proyecto","tareasContext","errorTarea","agregarTarea","validarTarea","tarea","setTarea","nombre","proyectoActual","handleChange","e","target","name","value","onSubmit","preventDefault","trim","proyectoId","id","estado","mostrarError","setTimeout"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,QAArB,QAAqC,OAArC;AACA,OAAOC,eAAP,MAA4B,yCAA5B;AACA,OAAOC,YAAP,MAAyB,mCAAzB;;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA;;AAEtB;AACA,QAAMC,gBAAgB,GAAGL,UAAU,CAAEE,eAAF,CAAnC;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAeD,gBAArB,CAJsB,CAMtB;;AACA,QAAME,aAAa,GAAGP,UAAU,CAAEG,YAAF,CAAhC;AACA,QAAM;AAAEK,IAAAA,UAAF;AAAcC,IAAAA,YAAd;AAA4BC,IAAAA;AAA5B,MAA6CH,aAAnD,CARsB,CAUtB;;AACA,QAAM,CAAEI,KAAF,EAASC,QAAT,IAAsBX,QAAQ,CAAE;AACpCY,IAAAA,MAAM,EAAE;AAD4B,GAAF,CAApC,CAXsB,CAetB;;AACA,QAAM;AAAEA,IAAAA;AAAF,MAAaF,KAAnB,CAhBsB,CAkBtB;;AACA,MAAK,CAACL,QAAN,EAAiB;AACf,WAAO,IAAP;AACD,GArBqB,CAuBtB;;;AACA,QAAM,CAAEQ,cAAF,IAAqBR,QAA3B,CAxBsB,CA0BtB;;AACA,QAAMS,YAAY,GAAGC,CAAC,IAAI;AACxBJ,IAAAA,QAAQ,CAAE,EACR,GAAGD,KADK;AAER,OAAEK,CAAC,CAACC,MAAF,CAASC,IAAX,GAAmBF,CAAC,CAACC,MAAF,CAASE;AAFpB,KAAF,CAAR;AAID,GALD;;AAOA,QAAMC,QAAQ,GAAGJ,CAAC,IAAI;AACpBA,IAAAA,CAAC,CAACK,cAAF,GADoB,CAGpB;;AACA,QAAKR,MAAM,CAACS,IAAP,OAAkB,EAAvB,EAA4B;AAC1BZ,MAAAA,YAAY;AACZ;AACD,KAPmB,CASpB;AAEA;;;AACAC,IAAAA,KAAK,CAACY,UAAN,GAAmBT,cAAc,CAACU,EAAlC;AACAb,IAAAA,KAAK,CAACc,MAAN,GAAe,KAAf;AACAhB,IAAAA,YAAY,CAAEE,KAAF,CAAZ,CAdoB,CAgBpB;AAED,GAlBD,CAlCsB,CAsDtB;;;AACA,QAAMe,YAAY,GAAG,MAAM;AACzB;AAAA;AAAG,MAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAGAC,IAAAA,UAAU,CAAE,MAAM;AAChB,aAAO,IAAP;AACD,KAFS,EAEP,IAFO,CAAV;AAGD,GAPD;;AASA,sBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA,4BACE;AACE,MAAA,QAAQ,EAAGP,QADb;AAAA,8BAIE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,+BACE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,IAAI,EAAC,QAFP;AAGE,UAAA,EAAE,EAAC,EAHL;AAIE,UAAA,SAAS,EAAC,YAJZ;AAKE,UAAA,WAAW,EAAC,iBALd;AAME,UAAA,KAAK,EAAGP,MANV;AAOE,UAAA,QAAQ,EAAGE;AAPb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAJF,eAgBE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,+BACE;AACE,UAAA,IAAI,EAAC,QADP;AAEE,UAAA,KAAK,EAAC,eAFR;AAGE,UAAA,SAAS,EAAC;AAHZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAhBF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EA2BIP,UAAU,GACVkB,YADU,GAGV,IA9BJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAoCD,CApGD;;GAAMtB,S;;KAAAA,S;AAsGN,eAAeA,SAAf","sourcesContent":["import { useContext, useState } from \"react\";\r\nimport ProyectoContext from \"../../context/proyectos/ProyectoContext\";\r\nimport TareaContext from \"../../context/tareas/TareaContext\";\r\n\r\nconst FormTarea = () => {\r\n\r\n  // Extraer si un proyecto est치 activo\r\n  const proyectosContext = useContext( ProyectoContext );\r\n  const { proyecto } = proyectosContext;\r\n\r\n  // Obtener la funcion del context de tarea\r\n  const tareasContext = useContext( TareaContext );\r\n  const { errorTarea, agregarTarea, validarTarea } = tareasContext;\r\n\r\n  // State del formulario\r\n  const [ tarea, setTarea ] = useState( {\r\n    nombre: ''\r\n  } )\r\n\r\n  // Extraer el nombre del proyecto\r\n  const { nombre } = tarea;\r\n\r\n  // Si no hay proyecto seleccionado\r\n  if ( !proyecto ) {\r\n    return null\r\n  }\r\n\r\n  // Array destructuring para extraer el proyecto actual\r\n  const [ proyectoActual ] = proyecto;\r\n\r\n  // Leer los valores del formulario\r\n  const handleChange = e => {\r\n    setTarea( {\r\n      ...tarea,\r\n      [ e.target.name ]: e.target.value\r\n    } )\r\n  }\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    // Validar\r\n    if ( nombre.trim() === '' ) {\r\n      validarTarea();\r\n      return;\r\n    }\r\n\r\n    // Pasar la validaci칩n\r\n\r\n    // Agregar la tarea nueva al state de tareas, se iguala el id y se pasan las tareas en false\r\n    tarea.proyectoId = proyectoActual.id;\r\n    tarea.estado = false;\r\n    agregarTarea( tarea );\r\n\r\n    // Reiniciar el Form\r\n\r\n  }\r\n\r\n  // Mostrar Error con timer\r\n  const mostrarError = () => {\r\n    <p className=\"mensaje error\">\r\n      El nombre de la tarea es obligatorio\r\n    </p>\r\n    setTimeout( () => {\r\n      return null\r\n    }, 3000 );\r\n  }\r\n\r\n  return (\r\n    <div className=\"formulario\">\r\n      <form\r\n        onSubmit={ onSubmit }\r\n      >\r\n\r\n        <div className=\"contenedor-input\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"nombre\"\r\n            id=\"\"\r\n            className=\"input-text\"\r\n            placeholder=\"Nombre Tarea...\"\r\n            value={ nombre }\r\n            onChange={ handleChange }\r\n          />\r\n        </div>\r\n\r\n        <div className=\"contenedor-input\">\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Agregar Tarea\"\r\n            className=\"btn btn-primario btn-submit btn-block\"\r\n          />\r\n        </div>\r\n\r\n      </form>\r\n\r\n      { errorTarea ?\r\n        mostrarError\r\n        :\r\n        null\r\n      }\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FormTarea;"]},"metadata":{},"sourceType":"module"}