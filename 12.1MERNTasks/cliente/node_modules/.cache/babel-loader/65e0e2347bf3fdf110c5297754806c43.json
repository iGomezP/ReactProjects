{"ast":null,"code":"var _jsxFileName = \"/home/vakaz/Documentos/React/12MERNTasks/cliente/src/context/autenticacion/AuthState.jsx\",\n    _s = $RefreshSig$();\n\nimport { useReducer } from \"react\";\nimport AuthContext from \"./AuthContext\";\nimport AuthReducer from \"./AuthReducer\";\nimport clienteAxios from \"../../config/axios\";\nimport { REGISTRO_EXITOSO, REGISTRO_ERROR, OBTENER_USUARIO, LOGIN_EXITOSO, LOGIN_ERROR, CERRAR_SESION } from \"../../types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AuthState = props => {\n  _s();\n\n  // State inicial\n  const initialState = {\n    token: localStorage.getItem('token'),\n    autenticado: null,\n    usuario: null,\n    mensaje: null\n  }; // Inicializacion del reducer\n\n  const [state, dispatch] = useReducer(AuthReducer, initialState); // Funciones\n\n  const RegistrarUsuario = async datos => {\n    try {\n      const respuesta = await clienteAxios.post('/api/usuarios', datos);\n      console.log(respuesta.data);\n      dispatch({\n        type: REGISTRO_EXITOSO\n      });\n    } catch (error) {\n      console.log(error);\n      dispatch({\n        type: REGISTRO_ERROR\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      // 多 States\n      token: state.token,\n      autenticado: state.autenticado,\n      usuario: state.usuario,\n      mensaje: state.mensaje,\n      // 多 Funciones\n      RegistrarUsuario\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AuthState, \"h4meAN672mISt93ielJXXMKemns=\");\n\n_c = AuthState;\nexport default AuthState;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthState\");","map":{"version":3,"sources":["/home/vakaz/Documentos/React/12MERNTasks/cliente/src/context/autenticacion/AuthState.jsx"],"names":["useReducer","AuthContext","AuthReducer","clienteAxios","REGISTRO_EXITOSO","REGISTRO_ERROR","OBTENER_USUARIO","LOGIN_EXITOSO","LOGIN_ERROR","CERRAR_SESION","AuthState","props","initialState","token","localStorage","getItem","autenticado","usuario","mensaje","state","dispatch","RegistrarUsuario","datos","respuesta","post","console","log","data","type","error","children"],"mappings":";;;AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,YAAP,MAAyB,oBAAzB;AACA,SACEC,gBADF,EAEEC,cAFF,EAGEC,eAHF,EAIEC,aAJF,EAKEC,WALF,EAMEC,aANF,QAOO,aAPP;;;AASA,MAAMC,SAAS,GAAGC,KAAK,IAAI;AAAA;;AAEzB;AACA,QAAMC,YAAY,GAAG;AACnBC,IAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAsB,OAAtB,CADY;AAEnBC,IAAAA,WAAW,EAAE,IAFM;AAGnBC,IAAAA,OAAO,EAAE,IAHU;AAInBC,IAAAA,OAAO,EAAE;AAJU,GAArB,CAHyB,CAUzB;;AACA,QAAM,CAAEC,KAAF,EAASC,QAAT,IAAsBpB,UAAU,CAAEE,WAAF,EAAeU,YAAf,CAAtC,CAXyB,CAazB;;AACA,QAAMS,gBAAgB,GAAG,MAAMC,KAAN,IAAe;AAEtC,QAAI;AAEF,YAAMC,SAAS,GAAG,MAAMpB,YAAY,CAACqB,IAAb,CAAmB,eAAnB,EAAoCF,KAApC,CAAxB;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAaH,SAAS,CAACI,IAAvB;AAEAP,MAAAA,QAAQ,CAAE;AACRQ,QAAAA,IAAI,EAAExB;AADE,OAAF,CAAR;AAID,KATD,CASE,OAAQyB,KAAR,EAAgB;AAChBJ,MAAAA,OAAO,CAACC,GAAR,CAAaG,KAAb;AAEAT,MAAAA,QAAQ,CAAE;AACRQ,QAAAA,IAAI,EAAEvB;AADE,OAAF,CAAR;AAGD;AAEF,GAnBD;;AAqBA,sBACE,QAAC,WAAD,CAAa,QAAb;AACE,IAAA,KAAK,EAAG;AACN;AACAQ,MAAAA,KAAK,EAAEM,KAAK,CAACN,KAFP;AAGNG,MAAAA,WAAW,EAAEG,KAAK,CAACH,WAHb;AAINC,MAAAA,OAAO,EAAEE,KAAK,CAACF,OAJT;AAKNC,MAAAA,OAAO,EAAEC,KAAK,CAACD,OALT;AAMN;AACAG,MAAAA;AAPM,KADV;AAAA,cAWIV,KAAK,CAACmB;AAXV;AAAA;AAAA;AAAA;AAAA,UADF;AAeD,CAlDD;;GAAMpB,S;;KAAAA,S;AAoDN,eAAeA,SAAf","sourcesContent":["import { useReducer } from \"react\";\nimport AuthContext from \"./AuthContext\";\nimport AuthReducer from \"./AuthReducer\";\nimport clienteAxios from \"../../config/axios\";\nimport {\n  REGISTRO_EXITOSO,\n  REGISTRO_ERROR,\n  OBTENER_USUARIO,\n  LOGIN_EXITOSO,\n  LOGIN_ERROR,\n  CERRAR_SESION\n} from \"../../types\";\n\nconst AuthState = props => {\n\n  // State inicial\n  const initialState = {\n    token: localStorage.getItem( 'token' ),\n    autenticado: null,\n    usuario: null,\n    mensaje: null\n  }\n\n  // Inicializacion del reducer\n  const [ state, dispatch ] = useReducer( AuthReducer, initialState );\n\n  // Funciones\n  const RegistrarUsuario = async datos => {\n\n    try {\n\n      const respuesta = await clienteAxios.post( '/api/usuarios', datos );\n      console.log( respuesta.data );\n\n      dispatch( {\n        type: REGISTRO_EXITOSO\n      } )\n\n    } catch ( error ) {\n      console.log( error );\n\n      dispatch( {\n        type: REGISTRO_ERROR\n      } )\n    }\n\n  }\n\n  return (\n    <AuthContext.Provider\n      value={ {\n        // 多 States\n        token: state.token,\n        autenticado: state.autenticado,\n        usuario: state.usuario,\n        mensaje: state.mensaje,\n        // 多 Funciones\n        RegistrarUsuario,\n      } }\n    >\n      { props.children }\n    </AuthContext.Provider>\n  )\n}\n\nexport default AuthState;"]},"metadata":{},"sourceType":"module"}