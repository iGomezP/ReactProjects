{"ast":null,"code":"import _defineProperty from\"/home/vakaz/Documentos/React/12MERNTasks/cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/vakaz/Documentos/React/12MERNTasks/cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/vakaz/Documentos/React/12MERNTasks/cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useContext,useEffect}from\"react\";import{Link}from\"react-router-dom\";import AlertaContext from\"../../context/alertas/AlertaContext\";import AuthContext from\"../../context/autenticacion/AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NuevaCuenta=function NuevaCuenta(props){// Extraer los valores de AlertaContext\nvar alertaContext=useContext(AlertaContext);var alerta=alertaContext.alerta,MostrarAlerta=alertaContext.MostrarAlerta;// Extraer los valores de AuthContext\nvar authContext=useContext(AuthContext);var mensaje=authContext.mensaje,autenticado=authContext.autenticado,RegistrarUsuario=authContext.RegistrarUsuario;// En caso de que le usuario se haya autenticado o registrado o sea un registro duplicado\nuseEffect(function(){if(autenticado){props.history.push('/proyectos');}if(mensaje){MostrarAlerta(mensaje.msg,'alerta-error');}// eslint-disable-next-line\n},[mensaje,autenticado,props.history]);// State para iniciar sesión\nvar _useState=useState({nombre:'',email:'',password:'',confirmar:''}),_useState2=_slicedToArray(_useState,2),usuario=_useState2[0],setUsuario=_useState2[1];// Extraer de usuario\nvar nombre=usuario.nombre,email=usuario.email,password=usuario.password,confirmar=usuario.confirmar;var onChange=function onChange(e){setUsuario(_objectSpread(_objectSpread({},usuario),{},_defineProperty({},e.target.name,e.target.value)));};// Cuando el usuario quiere iniciar sesión\nvar onSubmit=function onSubmit(e){e.preventDefault();// Validar que no haya campos vacíos\nif(nombre.trim()===''||email.trim()===''||password.trim()===''||confirmar.trim()===''){MostrarAlerta('Todos los campos son obligatorios','alerta-error');return;}// Password mínimo de 6 caracteres\nif(password.length<6){MostrarAlerta('El password debe de ser de al menos 6 caracteres','alerta-error');return;}// Revisar que los 2 passwords sean iguales\nif(password!==confirmar){MostrarAlerta('Los passwords no son iguales','alerta-error');return;}// Pasarlo al Action de Express\nRegistrarUsuario({nombre:nombre,email:email,password:password});};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-usuario\",children:[alerta?/*#__PURE__*/_jsx(\"div\",{className:\"alerta \".concat(alerta.categoria),children:alerta.msg}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"contenedor-form sombra-dark\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Crear Nueva Cuenta\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nombre\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"nombre\",name:\"nombre\",placeholder:\"Tu Nombre\",value:nombre,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Tu Email\",value:email,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Tu Password (Min. 6 caracteres)\",value:password,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmar\",children:\"Repetir Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmar\",name:\"confirmar\",placeholder:\"Repite Tu Password\",value:confirmar,onChange:onChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"campo-form\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Registrarme\",className:\"btn btn-primario btn-block\"})})]}),/*#__PURE__*/_jsx(Link,{to:'/',className:\"enlace-cuenta\",children:\"Volver a Iniciar Sesi\\xF3n\"})]})]});};export default NuevaCuenta;","map":{"version":3,"sources":["/home/vakaz/Documentos/React/12MERNTasks/cliente/src/components/auth/NuevaCuenta.jsx"],"names":["useState","useContext","useEffect","Link","AlertaContext","AuthContext","NuevaCuenta","props","alertaContext","alerta","MostrarAlerta","authContext","mensaje","autenticado","RegistrarUsuario","history","push","msg","nombre","email","password","confirmar","usuario","setUsuario","onChange","e","target","name","value","onSubmit","preventDefault","trim","length","categoria"],"mappings":"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","sourcesContent":["import { useState, useContext, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AlertaContext from \"../../context/alertas/AlertaContext\";\r\nimport AuthContext from \"../../context/autenticacion/AuthContext\";\r\n\r\nconst NuevaCuenta = ( props ) => {\r\n\r\n  // Extraer los valores de AlertaContext\r\n  const alertaContext = useContext( AlertaContext );\r\n  const { alerta, MostrarAlerta } = alertaContext;\r\n\r\n  // Extraer los valores de AuthContext\r\n  const authContext = useContext( AuthContext );\r\n  const { mensaje, autenticado, RegistrarUsuario } = authContext;\r\n\r\n  // En caso de que le usuario se haya autenticado o registrado o sea un registro duplicado\r\n  useEffect( () => {\r\n\r\n    if ( autenticado ) {\r\n      props.history.push( '/proyectos' );\r\n    }\r\n\r\n    if ( mensaje ) {\r\n      MostrarAlerta( mensaje.msg, 'alerta-error' );\r\n    }\r\n\r\n\r\n    // eslint-disable-next-line\r\n  }, [ mensaje, autenticado, props.history ] );\r\n\r\n  // State para iniciar sesión\r\n  const [ usuario, setUsuario ] = useState( {\r\n    nombre: '',\r\n    email: '',\r\n    password: '',\r\n    confirmar: ''\r\n  } );\r\n\r\n  // Extraer de usuario\r\n  const { nombre, email, password, confirmar } = usuario;\r\n\r\n  const onChange = e => {\r\n    setUsuario( {\r\n      ...usuario,\r\n      [ e.target.name ]: e.target.value\r\n    }\r\n    )\r\n  }\r\n\r\n  // Cuando el usuario quiere iniciar sesión\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    // Validar que no haya campos vacíos\r\n    if ( nombre.trim() === '' ||\r\n      email.trim() === '' ||\r\n      password.trim() === '' ||\r\n      confirmar.trim() === '' ) {\r\n      MostrarAlerta( 'Todos los campos son obligatorios', 'alerta-error' );\r\n      return;\r\n    }\r\n\r\n    // Password mínimo de 6 caracteres\r\n    if ( password.length < 6 ) {\r\n      MostrarAlerta( 'El password debe de ser de al menos 6 caracteres', 'alerta-error' );\r\n      return;\r\n    }\r\n\r\n    // Revisar que los 2 passwords sean iguales\r\n    if ( password !== confirmar ) {\r\n      MostrarAlerta( 'Los passwords no son iguales', 'alerta-error' );\r\n      return;\r\n    }\r\n\r\n    // Pasarlo al Action de Express\r\n    RegistrarUsuario( {\r\n      nombre, email, password\r\n    } );\r\n  }\r\n\r\n  return (\r\n    <div className=\"form-usuario\">\r\n      {\r\n        alerta ?\r\n          <div className={ `alerta ${ alerta.categoria }` }>\r\n            { alerta.msg }\r\n          </div>\r\n          :\r\n          null\r\n      }\r\n      <div className=\"contenedor-form sombra-dark\">\r\n        <h1>Crear Nueva Cuenta</h1>\r\n\r\n        <form\r\n          onSubmit={ onSubmit }\r\n        >\r\n\r\n          <div className=\"campo-form\">\r\n            <label htmlFor=\"nombre\">Nombre</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"nombre\"\r\n              name=\"nombre\"\r\n              placeholder=\"Tu Nombre\"\r\n              value={ nombre }\r\n              onChange={ onChange }\r\n            />\r\n          </div>\r\n\r\n          <div className=\"campo-form\">\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Tu Email\"\r\n              value={ email }\r\n              onChange={ onChange }\r\n            />\r\n          </div>\r\n\r\n          <div className=\"campo-form\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Tu Password (Min. 6 caracteres)\"\r\n              value={ password }\r\n              onChange={ onChange }\r\n            />\r\n          </div>\r\n\r\n          <div className=\"campo-form\">\r\n            <label htmlFor=\"confirmar\">Repetir Password</label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"confirmar\"\r\n              name=\"confirmar\"\r\n              placeholder=\"Repite Tu Password\"\r\n              value={ confirmar }\r\n              onChange={ onChange }\r\n            />\r\n          </div>\r\n\r\n          <div className=\"campo-form\">\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Registrarme\"\r\n              className=\"btn btn-primario btn-block\"\r\n            />\r\n          </div>\r\n\r\n        </form>\r\n\r\n        <Link to={ '/' } className=\"enlace-cuenta\">\r\n          Volver a Iniciar Sesión\r\n        </Link>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NuevaCuenta;"]},"metadata":{},"sourceType":"module"}