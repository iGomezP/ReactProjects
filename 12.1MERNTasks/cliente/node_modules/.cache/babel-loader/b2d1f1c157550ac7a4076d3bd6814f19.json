{"ast":null,"code":"var _jsxFileName = \"/home/vakaz/Documentos/React/12MERNTasks/cliente/src/components/tareas/FormTarea.jsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useState, useEffect } from \"react\";\nimport ProyectoContext from \"../../context/proyectos/ProyectoContext\";\nimport TareaContext from \"../../context/tareas/TareaContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FormTarea = () => {\n  _s();\n\n  // Extraer si un proyecto est치 activo\n  const proyectosContext = useContext(ProyectoContext);\n  const {\n    proyecto\n  } = proyectosContext; // Obtener la funcion del context de tarea\n\n  const tareasContext = useContext(TareaContext);\n  const {\n    tareaSeleccionada,\n    errorTarea,\n    obtenerTareas,\n    agregarTarea,\n    validarTarea\n  } = tareasContext; // Effect que detecta si hay una tarea seleccionada\n\n  useEffect(() => {\n    if (tareaSeleccionada !== null) {\n      setTarea(tareaSeleccionada);\n    } else {\n      setTarea({\n        nombre: ''\n      });\n    }\n  }, [tareaSeleccionada]); // State del formulario\n\n  const [tarea, setTarea] = useState({\n    nombre: ''\n  }); // Extraer el nombre del proyecto\n\n  const {\n    nombre\n  } = tarea; // Si no hay proyecto seleccionado\n\n  if (!proyecto) {\n    return null;\n  } // Array destructuring para extraer el proyecto actual\n\n\n  const [proyectoActual] = proyecto; // Leer los valores del formulario\n\n  const handleChange = e => {\n    setTarea({ ...tarea,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSubmit = e => {\n    e.preventDefault(); // Validar\n\n    if (nombre.trim() === '') {\n      validarTarea();\n      return;\n    } // Si es edici칩n o si es nueva tarea\n\n\n    if (tareaSeleccionada === null) {\n      // Agregar la tarea nueva al state de tareas, se iguala el id y se pasan las tareas en false\n      tarea.proyectoId = proyectoActual.id;\n      tarea.estado = false;\n      agregarTarea(tarea);\n    } // Obtener y filtrar las tareas del proyecto actual\n\n\n    obtenerTareas(proyectoActual.id); // Reiniciar el Form\n\n    setTarea({\n      nombre: ''\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"formulario\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contenedor-input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"nombre\",\n          id: \"\",\n          className: \"input-text\",\n          placeholder: \"Nombre Tarea...\",\n          value: nombre,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contenedor-input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: tareaSeleccionada ? 'Editar Tarea' : 'Agregar Tarea',\n          className: \"btn btn-primario btn-submit btn-block\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), errorTarea ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mensaje error\",\n      children: \"El nombre de la tarea es obligatorio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FormTarea, \"oxjhJPBoukPk26f8ZLBHaPdX4KQ=\");\n\n_c = FormTarea;\nexport default FormTarea;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormTarea\");","map":{"version":3,"sources":["/home/vakaz/Documentos/React/12MERNTasks/cliente/src/components/tareas/FormTarea.jsx"],"names":["useContext","useState","useEffect","ProyectoContext","TareaContext","FormTarea","proyectosContext","proyecto","tareasContext","tareaSeleccionada","errorTarea","obtenerTareas","agregarTarea","validarTarea","setTarea","nombre","tarea","proyectoActual","handleChange","e","target","name","value","onSubmit","preventDefault","trim","proyectoId","id","estado"],"mappings":"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","sourcesContent":["import { useContext, useState, useEffect } from \"react\";\r\nimport ProyectoContext from \"../../context/proyectos/ProyectoContext\";\r\nimport TareaContext from \"../../context/tareas/TareaContext\";\r\n\r\nconst FormTarea = () => {\r\n\r\n  // Extraer si un proyecto est치 activo\r\n  const proyectosContext = useContext( ProyectoContext );\r\n  const { proyecto } = proyectosContext;\r\n\r\n  // Obtener la funcion del context de tarea\r\n  const tareasContext = useContext( TareaContext );\r\n  const { tareaSeleccionada, errorTarea, obtenerTareas, agregarTarea, validarTarea } = tareasContext;\r\n\r\n  // Effect que detecta si hay una tarea seleccionada\r\n  useEffect( () => {\r\n\r\n    if ( tareaSeleccionada !== null ) {\r\n      setTarea( tareaSeleccionada );\r\n    } else {\r\n      setTarea( {\r\n        nombre: ''\r\n      } )\r\n    }\r\n\r\n  }, [ tareaSeleccionada ] )\r\n\r\n  // State del formulario\r\n  const [ tarea, setTarea ] = useState( {\r\n    nombre: ''\r\n  } )\r\n\r\n  // Extraer el nombre del proyecto\r\n  const { nombre } = tarea;\r\n\r\n  // Si no hay proyecto seleccionado\r\n  if ( !proyecto ) {\r\n    return null\r\n  }\r\n\r\n  // Array destructuring para extraer el proyecto actual\r\n  const [ proyectoActual ] = proyecto;\r\n\r\n  // Leer los valores del formulario\r\n  const handleChange = e => {\r\n    setTarea( {\r\n      ...tarea,\r\n      [ e.target.name ]: e.target.value\r\n    } )\r\n  }\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    // Validar\r\n    if ( nombre.trim() === '' ) {\r\n      validarTarea();\r\n      return;\r\n    }\r\n\r\n    // Si es edici칩n o si es nueva tarea\r\n    if ( tareaSeleccionada === null ) {\r\n      // Agregar la tarea nueva al state de tareas, se iguala el id y se pasan las tareas en false\r\n      tarea.proyectoId = proyectoActual.id;\r\n      tarea.estado = false;\r\n      agregarTarea( tarea );\r\n    }\r\n\r\n\r\n    // Obtener y filtrar las tareas del proyecto actual\r\n    obtenerTareas( proyectoActual.id );\r\n\r\n    // Reiniciar el Form\r\n    setTarea( {\r\n      nombre: ''\r\n    } )\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"formulario\">\r\n      <form\r\n        onSubmit={ onSubmit }\r\n      >\r\n\r\n        <div className=\"contenedor-input\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"nombre\"\r\n            id=\"\"\r\n            className=\"input-text\"\r\n            placeholder=\"Nombre Tarea...\"\r\n            value={ nombre }\r\n            onChange={ handleChange }\r\n          />\r\n        </div>\r\n\r\n        <div className=\"contenedor-input\">\r\n          <input\r\n            type=\"submit\"\r\n            value={ tareaSeleccionada ? 'Editar Tarea' : 'Agregar Tarea' }\r\n            className=\"btn btn-primario btn-submit btn-block\"\r\n          />\r\n        </div>\r\n\r\n      </form>\r\n\r\n      { errorTarea ?\r\n        <p className=\"mensaje error\">\r\n          El nombre de la tarea es obligatorio\r\n        </p>\r\n        :\r\n        null\r\n      }\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FormTarea;"]},"metadata":{},"sourceType":"module"}