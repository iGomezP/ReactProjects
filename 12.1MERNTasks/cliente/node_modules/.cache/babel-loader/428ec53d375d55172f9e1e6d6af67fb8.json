{"ast":null,"code":"var _jsxFileName = \"/home/vakaz/Documentos/React/12MERNTasks/cliente/src/context/tareas/TareaState.jsx\",\n    _s = $RefreshSig$();\n\nimport { useReducer } from \"react\";\nimport TareaContext from \"./TareaContext\";\nimport TareaReducer from \"./TareaReducer\";\nimport clienteAxios from \"../../config/axios\";\nimport { TAREAS_PROYECTO, AGREGAR_TAREA, VALIDAR_TAREA, ELIMINAR_TAREA // ESTADO_TAREA,\n, TAREA_ACTUAL, ACTUALIZAR_TAREA, LIMPIAR_TAREA } from \"../../types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TareaState = props => {\n  _s();\n\n  const initialState = {\n    tareasProyecto: [],\n    errorTarea: false,\n    tareaSeleccionada: null\n  }; // Crear dispatch y state\n\n  const [state, dispatch] = useReducer(TareaReducer, initialState); // Crear las funciones\n  // Obtener las tareas de un proyecto\n\n  const obtenerTareas = async proyecto => {\n    try {\n      // Cuando se usa params en el cliente, en el servidor debe usarse req.query en lugar de req.body\n      const resultado = await clienteAxios.get('/api/tareas', {\n        params: {\n          proyecto\n        }\n      }); // console.log( resultado.data.tareas );\n\n      dispatch({\n        type: TAREAS_PROYECTO,\n        payload: resultado.data.tareas\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }; // Agregar una tarea al proyecto seleccionado\n\n\n  const agregarTarea = async tarea => {\n    const resultado = await clienteAxios.post('/api/tareas', tarea);\n    console.log(resultado);\n\n    try {\n      dispatch({\n        type: AGREGAR_TAREA,\n        payload: tarea\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }; // Valida y muestra un error en caso de que sea necesario\n\n\n  const validarTarea = () => {\n    dispatch({\n      type: VALIDAR_TAREA\n    });\n  }; // Eliminar tarea por id\n\n\n  const eliminarTarea = async (id, proyecto) => {\n    try {\n      await clienteAxios.delete(`/api/tareas/${id}`, {\n        params: {\n          proyecto\n        }\n      });\n      dispatch({\n        type: ELIMINAR_TAREA,\n        payload: id\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }; // Cambia el estado de cada tarea\n  // const cambiarEstadoTarea = tarea => {\n  //   dispatch( {\n  //     type: ESTADO_TAREA,\n  //     payload: tarea\n  //   } )\n  // }\n  // Edita o modifica una tarea\n\n\n  const actualizarTarea = async tarea => {\n    try {\n      const resultado = await clienteAxios.put(`/api/tareas/${tarea._id}`, tarea); // console.log( resultado.data.tareaExiste );\n\n      dispatch({\n        type: ACTUALIZAR_TAREA,\n        payload: resultado.data.tareaExiste\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }; // Extrae la tarea para edición\n\n\n  const guardarTareaActual = tarea => {\n    dispatch({\n      type: TAREA_ACTUAL,\n      payload: tarea\n    });\n  }; // Elimina la tarea seleccionada\n\n\n  const limpiarTarea = () => {\n    dispatch({\n      type: LIMPIAR_TAREA\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(TareaContext.Provider, {\n    value: {\n      // ¿ States\n      tareasProyecto: state.tareasProyecto,\n      errorTarea: state.errorTarea,\n      tareaSeleccionada: state.tareaSeleccionada,\n      // ¿ Funciones\n      obtenerTareas,\n      agregarTarea,\n      validarTarea,\n      eliminarTarea,\n      // cambiarEstadoTarea,\n      guardarTareaActual,\n      actualizarTarea,\n      limpiarTarea\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TareaState, \"h4meAN672mISt93ielJXXMKemns=\");\n\n_c = TareaState;\nexport default TareaState;\n\nvar _c;\n\n$RefreshReg$(_c, \"TareaState\");","map":{"version":3,"sources":["/home/vakaz/Documentos/React/12MERNTasks/cliente/src/context/tareas/TareaState.jsx"],"names":["useReducer","TareaContext","TareaReducer","clienteAxios","TAREAS_PROYECTO","AGREGAR_TAREA","VALIDAR_TAREA","ELIMINAR_TAREA","TAREA_ACTUAL","ACTUALIZAR_TAREA","LIMPIAR_TAREA","TareaState","props","initialState","tareasProyecto","errorTarea","tareaSeleccionada","state","dispatch","obtenerTareas","proyecto","resultado","get","params","type","payload","data","tareas","error","console","log","agregarTarea","tarea","post","validarTarea","eliminarTarea","id","delete","actualizarTarea","put","_id","tareaExiste","guardarTareaActual","limpiarTarea","children"],"mappings":"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","sourcesContent":["import { useReducer } from \"react\";\nimport TareaContext from \"./TareaContext\";\nimport TareaReducer from \"./TareaReducer\";\nimport clienteAxios from \"../../config/axios\";\nimport {\n  TAREAS_PROYECTO,\n  AGREGAR_TAREA,\n  VALIDAR_TAREA,\n  ELIMINAR_TAREA,\n  // ESTADO_TAREA,\n  TAREA_ACTUAL,\n  ACTUALIZAR_TAREA,\n  LIMPIAR_TAREA\n\n} from \"../../types\";\n\nconst TareaState = props => {\n  const initialState = {\n    tareasProyecto: [],\n    errorTarea: false,\n    tareaSeleccionada: null\n  }\n\n  // Crear dispatch y state\n  const [ state, dispatch ] = useReducer( TareaReducer, initialState );\n\n  // Crear las funciones\n\n\n  // Obtener las tareas de un proyecto\n  const obtenerTareas = async proyecto => {\n\n    try {\n      // Cuando se usa params en el cliente, en el servidor debe usarse req.query en lugar de req.body\n      const resultado = await clienteAxios.get( '/api/tareas', { params: { proyecto } } );\n      // console.log( resultado.data.tareas );\n\n      dispatch( {\n        type: TAREAS_PROYECTO,\n        payload: resultado.data.tareas\n      } );\n\n    } catch ( error ) {\n      console.log( error );\n    }\n\n  }\n\n  // Agregar una tarea al proyecto seleccionado\n  const agregarTarea = async tarea => {\n\n    const resultado = await clienteAxios.post( '/api/tareas', tarea );\n    console.log( resultado );\n\n    try {\n\n      dispatch( {\n        type: AGREGAR_TAREA,\n        payload: tarea\n      } );\n\n    } catch ( error ) {\n      console.log( error );\n    }\n\n  }\n\n  // Valida y muestra un error en caso de que sea necesario\n  const validarTarea = () => {\n    dispatch( {\n      type: VALIDAR_TAREA\n    } )\n  }\n\n  // Eliminar tarea por id\n  const eliminarTarea = async ( id, proyecto ) => {\n\n    try {\n\n      await clienteAxios.delete( `/api/tareas/${ id }`, { params: { proyecto } } );\n\n      dispatch( {\n        type: ELIMINAR_TAREA,\n        payload: id\n      } )\n\n    } catch ( error ) {\n      console.log( error );\n    }\n\n  }\n\n  // Cambia el estado de cada tarea\n  // const cambiarEstadoTarea = tarea => {\n  //   dispatch( {\n  //     type: ESTADO_TAREA,\n  //     payload: tarea\n  //   } )\n  // }\n\n  // Edita o modifica una tarea\n  const actualizarTarea = async tarea => {\n\n    try {\n\n      const resultado = await clienteAxios.put( `/api/tareas/${ tarea._id }`, tarea );\n      // console.log( resultado.data.tareaExiste );\n\n      dispatch( {\n        type: ACTUALIZAR_TAREA,\n        payload: resultado.data.tareaExiste\n      } )\n\n    } catch ( error ) {\n      console.log( error );\n    }\n\n  }\n\n\n  // Extrae la tarea para edición\n  const guardarTareaActual = tarea => {\n    dispatch( {\n      type: TAREA_ACTUAL,\n      payload: tarea\n    } )\n  }\n\n\n  // Elimina la tarea seleccionada\n  const limpiarTarea = () => {\n    dispatch( {\n      type: LIMPIAR_TAREA\n    } )\n  }\n\n  return (\n    <TareaContext.Provider\n      value={ {\n\n        // ¿ States\n        tareasProyecto: state.tareasProyecto,\n        errorTarea: state.errorTarea,\n        tareaSeleccionada: state.tareaSeleccionada,\n\n        // ¿ Funciones\n        obtenerTareas,\n        agregarTarea,\n        validarTarea,\n        eliminarTarea,\n        // cambiarEstadoTarea,\n        guardarTareaActual,\n        actualizarTarea,\n        limpiarTarea\n\n      } }\n    >\n      { props.children }\n    </TareaContext.Provider>\n  )\n\n}\n\nexport default TareaState;"]},"metadata":{},"sourceType":"module"}